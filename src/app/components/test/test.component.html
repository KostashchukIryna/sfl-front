<div class="test">
    <app-sidebar></app-sidebar>
    <div class="test-page">
        <div class="decoration2"></div>
        <div class="decoration3"></div>
        <div class="navbar">
            <img class="back" src="assets/back-logo.svg" />
            <div class="frame-266">
                <div class="remaining-time">
                    <img class="clock-icon" src="assets/clock-icon.svg" />
                    <div class="div2">–ó–∞–ª–∏—à–∏–ª–æ—Å—å —á–∞—Å—É:</div>
                </div>
                <div class="timer">{{ displayTimer }}</div>
            </div>
        </div>

        <div class="main-test" *ngIf="!started">
            <div class="test-description">
                <div class="test-label">–¢–µ—Å—Ç</div>
                <div class="test-autolayout">
                    <div class="course-label">üß≠ –û—Å–Ω–æ–≤–∏ –≤–∏–∂–∏–≤–∞–Ω–Ω—è –≤ –º—ñ—Å—Ç—ñ</div>
                    <div class="div3">–í—Å—Ç—É–ø –¥–æ —Ç–µ—Å—Ç—É</div>
                    <div class="description">
                        –ü–æ–ø–µ—Ä–µ–¥—É –≤–∞—Å —á–µ–∫–∞—î 10 –ø–∏—Ç–∞–Ω—å, —â–æ –¥–æ–ø–æ–º–æ–∂—É—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏,
                        –Ω–∞—Å–∫—ñ–ª—å–∫–∏ —É–≤–∞–∂–Ω–æ –≤–∏ –≤–∏–≤—á–∏–ª–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª —ñ —á–∏ –≥–æ—Ç–æ–≤—ñ –¥—ñ—è—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
                        –≤ –µ–∫—Å—Ç—Ä–µ–Ω–∏—Ö —É–º–æ–≤–∞—Ö.
                        <br /><br />
                        –ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É:
                        <br />
                        <ul class="description-span2">
                            <li>–ù–µ –æ–Ω–æ–≤–ª—é–π—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø—ñ–¥ —á–∞—Å –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Ç–µ—Å—Ç—É.</li>
                            <li>–¢–µ—Å—Ç –º–æ–∂–Ω–∞ –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑.</li>
                            <li>
                                –ù–∞ –∫–æ–∂–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è –±—É–¥–µ –≤—ñ–¥–≤–µ–¥–µ–Ω–æ 1 —Ö–≤–∏–ª–∏–Ω–∞ ‚Äî —Ü—å–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ,
                                –∞–±–∏ –≤—Å–µ –æ–±–¥—É–º–∞—Ç–∏.
                            </li>
                            <li>
                                –î–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –º–æ–¥—É–ª—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ
                                –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Ö–æ—á–∞ –± –Ω–∞ 7 –∑ 10 –ø–∏—Ç–∞–Ω—å.
                            </li>
                        </ul>
                        –¶–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–µ–æ—Ä—ñ—è ‚Äî —Ü—ñ –∑–Ω–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–æ –º–æ–∂—É—Ç—å –≤—Ä—è—Ç—É–≤–∞—Ç–∏ –≤–∞—Å –∞–±–æ
                        –≤–∞—à–∏—Ö –±–ª–∏–∑—å–∫–∏—Ö.
                        <br /><br />
                        –ì–æ—Ç–æ–≤—ñ? –¢–æ–¥—ñ –≤–ø–µ—Ä–µ–¥ ‚Äî –ø–æ—á–Ω—ñ–º–æ!
                    </div>
                </div>
            </div>
            <div class="button">
                <div class="test-button" (click)="startTest()">–†–û–ó–ü–û–ß–ê–¢–ò –¢–ï–°–¢</div>
            </div>
        </div>

        <div class="test-questions" *ngIf="started && currentIndex < questions.length">
            <div class="number-question">
                –ü–∏—Ç–∞–Ω–Ω—è {{ currentIndex + 1 }} –∑ {{ questions.length }}
            </div>

            <div class="auto-layout-answers">
                <div class="question">
                    {{ questions[currentIndex].question }}
                </div>

                <div class="answers-autolayot">
                    <label class="answer" *ngFor="let opt of questions[currentIndex].options; let i = index">
                        <input type="radio" [name]="'q' + currentIndex" [(ngModel)]="userAnswers[currentIndex]"
                            [value]="i" />
                        <span class="label-text">{{ opt }}</span>
                    </label>
                </div>
            </div>

            <div class="button-next">
                <button class="next-question-button" (click)="goToNext()" [disabled]="userAnswers[currentIndex] < 0">
                    –ù–ê–°–¢–£–ü–ù–ï –ü–ò–¢–ê–ù–ù–Ø
                </button>
            </div>
        </div>

        <div class="total-scores" *ngIf="started && currentIndex >= questions.length && correctCount >= passingScore">
            <div class="label-test">–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ!</div>
            <div class="correct-answers">
                <div class="question-end">–ü—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π:</div>
                <div class="total-scores-end">
                    {{ correctCount }} / {{ questions.length }}
                </div>
            </div>
            <div class="review-answers" *ngIf="started && currentIndex >= questions.length">
                <div class="label-correct-answers">–û–≥–ª—è–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π</div>
                <ng-container *ngFor="let q of questions; let idx = index">
                    <div class="auto-layout-answers">
                        <div class="question">
                            {{ idx + 1 }}. {{ q.question }}
                        </div>

                        <div class="answers-autolayot">
                            <label class="answer" *ngFor="let opt of q.options; let i = index"
                                [class.correct]="i === q.correctAnswerIndex"
                                [class.incorrect]="userAnswers[idx] === i && i !== q.correctAnswerIndex">
                                <input type="radio" [name]="'review' + idx" [checked]="i === userAnswers[idx]"
                                    disabled />
                                <span class="label-text">{{ opt }}</span>
                            </label>
                        </div>
                    </div>
                </ng-container>
            </div>
        </div>

        <div class="total-scores-fail"
            *ngIf="started && currentIndex >= questions.length && correctCount < passingScore">
            <div class="label-text-fail">
                –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ!
            </div>
            <div class="fail">
                <div class="question-fail">
                    –ü—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π:
                </div>
                <div class="correct-answers-fail">
                    {{ correctCount }} / {{ questions.length }}
                </div>
            </div>
            <div class="label-unfortunately">
                –ù–∞ –∂–∞–ª—å, —Ü—å–æ–≥–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ.
                <br />
                –©–æ–± —É—Å–ø—ñ—à–Ω–æ –ø—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç, –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –Ω–∞–±—Ä–∞—Ç–∏ —â–æ–Ω–∞–π–º–µ–Ω—à–µ: {{ passingScore }} / {{ questions.length }}
            </div>
            <div class="button-again">
                <div class="repeat-button" (click)="retakeTest()">
                    –ü–†–û–ô–¢–ò –¢–ï–°–¢ –©–ï –†–ê–ó
                </div>
            </div>

            <div class="comeback-to-module">
                –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –º–æ–¥—É–ª—è
            </div>
        </div>

    </div>
</div>